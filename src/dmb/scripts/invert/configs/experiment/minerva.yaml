# @package _global_

defaults:
  - override /lit_model: inversion_result_lit_model
  - override /callbacks: default
  - override /trainer: default
  - _self_

exp_name: "minerva"

seed: 12345

trainer:
  max_epochs: 250
  accumulate_grad_batches: 5
  precision: 16-mixed
  deterministic: False
  check_val_every_n_epoch: 10
  log_every_n_steps: 10

lit_model:

  lit_dmb_model:
    log_dir: "train/bose_hubbard_2d/worm/all_obs/se_resnet/mse/none/runs/2024-12-01_23-35-01"
    checkpoint_path: "train/bose_hubbard_2d/worm/all_obs/se_resnet/mse/none/runs/2024-12-01_23-35-01/checkpoints/best/epoch=329-step=2640.ckpt"

  optimizer:
    lr: 0.00025

  lr_scheduler:
    scheduler:
      _target_: torch.optim.lr_scheduler.ReduceLROnPlateau
      mode: min
      factor: 0.5
      patience: 25
      min_lr: 1e-5
      cooldown: 500
      threshold: 0.1
      
    monitor: train/mse
    interval: epoch
    frequency: 1

  loss:
    _target_: dmb.model.loss.MSELoss
